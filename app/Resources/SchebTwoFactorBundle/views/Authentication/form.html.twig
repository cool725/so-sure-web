{% extends 'base_rebrand.html.twig' %}

{# Set vars #}
{% set exclude_remote_scripts = true %}
{% set body_class = 'login' %}
{% set light_nav  = 1 %}
{# TODO: Do we need to hide the nav or at least the login button #}
{% set quote_mode = 1 %}

{% block cssPage %}
    <link rel="stylesheet" href="{{ asset('css-js/login.css') }}">
{% endblock %}

{% block body %}
    <div class="login p-3 d-flex align-items-center">
        <div class="login__inner">

            <div class="login__card">
                <div class="login__card__body">
                    <form class="form" action="" method="post">
                        <div class="form-group">
                            <label for="_auth_code" class="h2">Google Auth MFA Code</label>
                            <input id="_auth_code" type="tel" class="form-control" placeholder="Enter 2FA" autocomplete="off" name="_auth_code" autofocus />
                            {% for flashMessage in app.session.flashbag.get("two_factor") %}
                                <label class="error">{{ flashMessage|trans }}</label>
                            {% endfor %}
                        </div>

                        <div class="form-group">
                            <input type="submit" value="Login" class="btn btn-success btn-block" />
                        </div>
                        {% if useTrustedOption %}
                            <div class="form-group">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input" id="_trusted" name="_trusted">
                                    <label class="custom-control-label" for="_trusted">Trust this computer</label>
                                </div>
                            </div>
                        {% endif %}
                        <div class="form-group">
                            <a class="btn btn-link" href="{{ path("_security_logout") }}">Abort login</a>
                        </div>
                    </form>
                </div>
            </div>

        </div>
        <span class="login__phone__background animated fadeInLeft"></span>
        <span class="login__money__background animated jackInTheBox"></span>
    </div>
{% endblock %}

{% block footer %}
    {# TODO: Fix footer #}
{% endblock %}

{% block javascriptsPage %}
    <script src="{{ asset('css-js/login.js') }}"></script>
{% endblock %}


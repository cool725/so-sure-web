{% extends 'base_rebrand.html.twig' %}

{# Set vars #}
{% set full_width = true %}
{% set login_mode = true %}
{% set robots_noindex = true %}
{% set intercom_enabled = false %}
{% set include_get_a_quote = true %}

{% block title %}Quote | SO-SURE{% endblock %}

{% block meta %}{% endblock %}

{% block cssPage %}
    <link rel="stylesheet" href="{{ asset('css-js/purchase.css') }}">
    <link rel="stylesheet" href="{{ asset('css-js/purchase-quote.css') }}">
{% endblock %}

{% block body %}
    <section class="qpw">
        <div class="d-lg-flex">
            {# Main Content #}
            <div class="qpw__main__container">
                <a href="{{ url('homepage') }}" class="qpw__logo mb-4">
                    <img src="{{ cdn_url }}/images/onexone.png"
                        data-src="{{ cdn_url }}/images/rebrand/logo/so-sure_logo-white-dark.svg" width="150px"
                        class="lozad"
                        alt="so-sure">
                </a>
                <div class="qpw__h5 h6 d-block d-lg-none text-center">
                    <a href="#qpw-info-mobile"
                        id="qpw-info-btn"
                        class="text-deep-sky-blue-d">
                        Whatâ€™s included? <i class="fas fa-caret-down ml-2"></i>
                    </a>
                </div>
                <div id="qpw-info" class="qpw__info__container d-none d-lg-block">
                    {% include 'AppBundle::Purchase/_seeFullDetailsQuote.html.twig' %}
                </div>
            </div>
            {# Curve Desktop #}
            <div class="qpw__curve">
                <svg class="d-none d-lg-block" preserveAspectRatio="xMinYMin meet" viewBox="0 0 57 846" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs></defs>
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g transform="translate(-12.000000, 0.000000)" fill="#FFFFFF">
                            <path d="M69,0 L69,846 L68,846 C30.6666667,705 12,564 12,423 C12,282 31,141 69,0 Z" id="Rectangle-3"></path>
                        </g>
                    </g>
                </svg>
            </div>
            {# Sub Content #}
            <div class="qpw__sub__container">
                <div class="qpw__sub px-4 py-4 p-lg-5">
                    {% if phone is defined and phone %}
                        {{ render(controller('AppBundle:Search:phoneSearchForm', {
                            'id': phone.id }|merge(app.request.query.all)
                        )) }}
                    {% else %}
                        {{ render(controller('AppBundle:Search:phoneSearchForm')) }}
                    {% endif %}
                </div>
            </div>
            {# Mobile Info #}
            <div id="qpw-info" class="qpw__info__container__mobile d-block d-lg-none">
                {% include 'AppBundle::Purchase/_seeFullDetailsQuote.html.twig' %}
            </div>
        </div>
    </section>

    {# Page Modals #}
    {% include 'AppBundle::PhoneInsurance/_policyInfoModals.html.twig' %}

{% endblock %}

{% block footer %}
    {# TODO: Fix footer #}
{% endblock %}

{% block javascriptsPage %}
    <script src="{{ asset('css-js/purchase.js') }}"></script>
    <script src="{{ asset('css-js/purchase-quote.js') }}"></script>
{% endblock %}
